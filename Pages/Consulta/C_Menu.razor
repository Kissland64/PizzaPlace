@page "/"
<!-- Menu -->
<h1>Our selection of pizzas</h1>
@foreach (var pizza in Estado.MenuBLL.Pizzas)
{
  <div class="row">
    <div class="col">
      @pizza.Nombre
    </div>
    <div class="col text-right">
      @($"{pizza.Precio:0.00}")
    </div>
    <div class="col"></div>
    <div class="col">
      <img src="@PicanteImage(pizza.Picante)"alt="@pizza.Picante" />
    </div>
    <div class="col">
      <button class="btn btn-success pl-4 pr-4"
            @onclick="@(() => compraCesta.Agregar(pizza.Id))">
        Add
      </button>
    </div>
  </div>
}
<!-- End menu -->
@code {
  private Estado Estado { get; } = new Estado();
  private CompraCesta compraCesta { get; } = new CompraCesta();
  protected override void OnInitialized()
  {
    Estado.MenuBLL.Agregar(new Pizza(1, "Pepperoni", 8.99M, Picante.Picante ));
    Estado.MenuBLL.Agregar(new Pizza(2, "Margarita", 7.99M, Picante.Nada ));
    Estado.MenuBLL.Agregar(new Pizza(3, "Diabolo", 9.99M, Picante.Caliente));
  }

  private string PicanteImage(Picante picante) => $"images/{picante.ToString().ToLower()}.png";
}
